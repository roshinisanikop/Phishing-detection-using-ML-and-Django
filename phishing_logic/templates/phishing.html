<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phishing Detection System</title>
    {%load static %} 
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Space+Grotesk:wght@500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #fff9e6 0%, #fef3c7 100%);
            color: #1d1d1f;
            line-height: 1.7;
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-top: 20px;
        }

        .header h1 {
            font-family: 'Space Grotesk', 'Inter', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: #1a1a1a;
            margin-bottom: 12px;
            letter-spacing: -0.5px;
        }

        .header p {
            color: #2d2d2d;
            font-size: 1.15rem;
            opacity: 0.9;
            font-weight: 400;
        }

        .main-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 12px rgba(0,0,0,0.08);
            padding: 40px;
            margin-bottom: 20px;
        }

        .info-section {
            background: #fffef5;
            border-radius: 8px;
            padding: 24px;
            margin-bottom: 30px;
            border-left: 4px solid #3b82f6;
        }

        .info-section h2 {
            font-family: 'Space Grotesk', 'Inter', sans-serif;
            font-size: 1.4rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 14px;
            letter-spacing: -0.3px;
        }

        .info-section p {
            color: #2d2d2d;
            margin-bottom: 14px;
            line-height: 1.8;
            font-size: 1.05rem;
        }

        .form-section {
            margin: 30px 0;
        }

        .form-section h3 {
            font-family: 'Space Grotesk', 'Inter', sans-serif;
            font-size: 1.3rem;
            font-weight: 600;
            color: #1a1a1a;
            margin-bottom: 20px;
            letter-spacing: -0.3px;
        }

        .input-group {
            display: flex;
            gap: 12px;
            margin-bottom: 16px;
        }

        .input-field {
            flex: 1;
            padding: 14px 16px;
            border: 1px solid #d2d2d7;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .input-field:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.15);
        }

        .btn-submit {
            padding: 14px 32px;
            background: #3b82f6;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: inherit;
        }

        .btn-submit:hover {
            background: #2563eb;
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }

        .btn-submit:active {
            transform: scale(0.98);
        }

        .btn-submit:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: #2d2d2d;
        }

        .loading.active {
            display: block;
        }

        .spinner {
            width: 40px;
            height: 40px;
            border: 3px solid #e5e5ea;
            border-top: 3px solid #3b82f6;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 0 auto 12px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .results-container {
            margin-top: 30px;
            display: none;
        }

        .results-container.show {
            display: block;
        }

        .result-box {
            padding: 28px;
            border-radius: 12px;
            text-align: center;
            font-size: 1.15rem;
            font-weight: 600;
            letter-spacing: -0.2px;
        }

        .result-safe {
            background: #f0fdf4;
            border: 2px solid #22c55e;
            color: #15803d;
        }

        .result-danger {
            background: #fef2f2;
            border: 2px solid #ef4444;
            color: #991b1b;
        }

        .result-error {
            background: #fffbeb;
            border: 2px solid #f59e0b;
            color: #92400e;
        }

        .result-icon {
            font-size: 2.5rem;
            margin-bottom: 12px;
        }

        .result-description {
            font-size: 1rem;
            font-weight: 400;
            margin-top: 10px;
            opacity: 0.9;
            line-height: 1.6;
        }

        .error-message {
            color: #dc2626;
            font-size: 0.9rem;
            margin-top: 8px;
            display: none;
            font-weight: 500;
        }

        .error-message.show {
            display: block;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .main-card {
                padding: 24px;
            }

            .input-group {
                flex-direction: column;
            }

            .btn-submit {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Stay Safe Online</h1>
            <p>Check if a website is trying to trick you</p>
        </div>

        <div class="main-card">
            <div class="info-section">
                <h2>What's Phishing?</h2>
                <p>
                    Phishing is when scammers create fake websites that look just like the real thing 
                    (like your bank or PayPal) to steal your passwords, card details, or personal info. 
                    It's surprisingly common and can happen to anyone.
                </p>
                <p>
                    This tool uses machine learning to spot suspicious patterns in URLs and helps you 
                    avoid dangerous sites. Think of it as a quick safety check before you click.
                </p>
            </div>

            <div class="form-section">
                <h3>Check a URL</h3>
                <form method="POST" action="prediction" id="phishingForm">
                    {% csrf_token %}
                    <div class="input-group">
                        <input 
                            class="input-field" 
                            placeholder="Paste a URL here (e.g., https://example.com)" 
                            type="url" 
                            name="urls" 
                            id="urlInput"
                            required
                        >
                        <button class="btn-submit" type="submit" id="submitBtn">
                            Check It
                        </button>
                    </div>
                    <div class="error-message" id="errorMessage">
                        Hmm, that doesn't look like a valid URL
                    </div>
                </form>

                <div class="loading" id="loadingSpinner">
                    <div class="spinner"></div>
                    <p>Checking this URL for you...</p>
                </div>
            </div>

            {% if a %}
            <div class="results-container show" id="resultsContainer">
                {% if "Legitimate" in a %}
                <div class="result-box result-safe">
                    <div class="result-icon">✓</div>
                    <div>Looks Good!</div>
                    <div class="result-description">
                        This URL seems safe. You should be good to go.
                    </div>
                </div>
                {% elif "Phishing" in a %}
                <div class="result-box result-danger">
                    <div class="result-icon">⚠</div>
                    <div>Careful!</div>
                    <div class="result-description">
                        This URL looks suspicious. We'd recommend avoiding it to be safe.
                    </div>
                </div>
                {% elif "Error" in a %}
                <div class="result-box result-error">
                    <div class="result-icon">!</div>
                    <div>Oops!</div>
                    <div class="result-description">{{ a }}</div>
                </div>
                {% endif %}
            </div>
            {% endif %}
        </div>
    </div>

    <script>
        const form = document.getElementById('phishingForm');
        const submitBtn = document.getElementById('submitBtn');
        const loadingSpinner = document.getElementById('loadingSpinner');
        const urlInput = document.getElementById('urlInput');
        const errorMessage = document.getElementById('errorMessage');

        form.addEventListener('submit', function(e) {
            const url = urlInput.value.trim();
            
            if (!url) {
                e.preventDefault();
                errorMessage.classList.add('show');
                return;
            }

            errorMessage.classList.remove('show');
            submitBtn.disabled = true;
            loadingSpinner.classList.add('active');
            submitBtn.textContent = 'Checking...';
        });

        urlInput.addEventListener('input', function() {
            errorMessage.classList.remove('show');
        });
    </script>
</body>
</html>
